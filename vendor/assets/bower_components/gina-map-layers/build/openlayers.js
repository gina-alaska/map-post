// Generated by CoffeeScript 1.7.1
(function() {
  Gina.Layers.return_by_name = false;

  Gina.Layers.tile_layer = function(tilejson) {
    var opts, regexp, url, urls, _i, _len, _ref;
    regexp = /{([sxyz])}/g;
    urls = [];
    _ref = tilejson['tiles'];
    for (_i = 0, _len = _ref.length; _i < _len; _i++) {
      url = _ref[_i];
      urls.push(url.replace(regexp, "\${$1}"));
    }
    opts = {
      wrapDateLine: true,
      sphericalMercator: true,
      visibility: false,
      transitionEffect: 'resize',
      attribution: tilejson['attribution']
    };
    return new OpenLayers.Layer.XYZ(tilejson['name'], urls, opts);
  };

}).call(this);
